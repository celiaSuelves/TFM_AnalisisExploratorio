boxplot(datos[variables_numericas],
main = "Valores Atípicos variables numéricas",
boxwex = 0.5,col="gray70")
boxplot(datos[variables_numericas[1]],
main = "Valores atípicos variable edad",
boxwex = 0.5,col="gray70")
write.xlsx(datos, '../DATOS_EXPORTADOS/exportado.xlsx')
summary(datos$DEPRESION)
summary(datos$ANSIEDAD)
summary(datos$ESTRES)
summary(datos$EDAD)
if(! "readxl" %in% installed.packages()) install.packages("readxl", depend = TRUE)
if(! "kableExtra" %in% installed.packages()) install.packages("kableExtra", depend = TRUE)
if(! "highcharter" %in% installed.packages()) install.packages("highcharter", depend = TRUE)
if(! "plotly" %in% installed.packages()) install.packages("plotly", depend = TRUE)
if(! "dplyr" %in% installed.packages()) install.packages("dplyr", depend = TRUE)
if(! "rmarkdown" %in% installed.packages()) install.packages("rmarkdown", depend = TRUE)
if(! "knitr" %in% installed.packages()) install.packages("knitr", depend = TRUE)
if(! "summarytools" %in% installed.packages()) install.packages("summarytools", depend = TRUE)
if(! "tables" %in% installed.packages()) install.packages("tables", depend = TRUE)
if(! "ggplot2" %in% installed.packages()) install.packages("ggplot2", depend = TRUE)
if(! "RColorBrewer" %in% installed.packages()) install.packages("RColorBrewer", depend = TRUE)
if(! "plyr" %in% installed.packages()) install.packages("plyr", depend = TRUE)
if(! "likert" %in% installed.packages()) install.packages("likert", depend = TRUE)
if(! "ca" %in% installed.packages()) install.packages("ca", depend = TRUE)
if(! "FactoMineR" %in% installed.packages()) install.packages("FactoMineR", depend = TRUE)
if(! "factoextra" %in% installed.packages()) install.packages("factoextra", depend = TRUE)
if(! "psych" %in% installed.packages()) install.packages("psych", depend = TRUE)
if(! "openxlsx" %in% installed.packages()) install.packages("openxlsx", depend = TRUE)
if(! "corrplot" %in% installed.packages()) install.packages("corrplot", depend = TRUE)
if(! "PerformanceAnalytics" %in% installed.packages()) install.packages("PerformanceAnalytics", depend = TRUE)
if(! "arules" %in% installed.packages()) install.packages("arules", depend = TRUE)
if(! "arulesViz" %in% installed.packages()) install.packages("arulesViz", depend = TRUE)
if(! "datasets" %in% installed.packages()) install.packages("datasets", depend = TRUE)
if(! "dummies" %in% installed.packages()) install.packages("dummies", depend = TRUE)
if(! "NbClust" %in% installed.packages()) install.packages("NbClust", depend = TRUE)
if(! "sqldf" %in% installed.packages()) install.packages("sqldf", depend = TRUE)
library(readxl)
library(kableExtra)
library(highcharter)
library(plotly)
library(dplyr)
library(rmarkdown)
library(knitr)
library(summarytools)
library(tables)
library(ggplot2)
library(RColorBrewer)
library(plyr)
library(likert)
library(sjPlot)
library(ca)
library(FactoMineR)
library(factoextra)
library(psych)
library(openxlsx)
library(corrplot)
library(PerformanceAnalytics)
library(arules)
library(arulesViz)
library(datasets)
library(dummies)
library(Rcmdr)
library(NbClust)
library(sqldf)
Commander()
options(max.print=999999999)
datos<-read_excel("../DATA/data.xlsx")
View(datos)
colnames(datos)
str(datos)
warnings()
boxplot(datos$age,
main = "Valores atípicos variable edad",
boxwex = 0.5,col="gray70")
summary(datos)
boxplot(datos$age,
main = "Valores atípicos variable edad",
boxwex = 0.5,col="gray70")
summary(datos)
boxplot(datos$age,
main = "Valores atípicos variable edad",
boxwex = 0.5,col="gray70")
summary(datos)
str(datos)
View(datos)
if(! "readxl" %in% installed.packages()) install.packages("readxl", depend = TRUE)
if(! "kableExtra" %in% installed.packages()) install.packages("kableExtra", depend = TRUE)
if(! "highcharter" %in% installed.packages()) install.packages("highcharter", depend = TRUE)
if(! "plotly" %in% installed.packages()) install.packages("plotly", depend = TRUE)
if(! "dplyr" %in% installed.packages()) install.packages("dplyr", depend = TRUE)
if(! "rmarkdown" %in% installed.packages()) install.packages("rmarkdown", depend = TRUE)
if(! "knitr" %in% installed.packages()) install.packages("knitr", depend = TRUE)
if(! "summarytools" %in% installed.packages()) install.packages("summarytools", depend = TRUE)
if(! "tables" %in% installed.packages()) install.packages("tables", depend = TRUE)
if(! "ggplot2" %in% installed.packages()) install.packages("ggplot2", depend = TRUE)
if(! "RColorBrewer" %in% installed.packages()) install.packages("RColorBrewer", depend = TRUE)
if(! "plyr" %in% installed.packages()) install.packages("plyr", depend = TRUE)
if(! "likert" %in% installed.packages()) install.packages("likert", depend = TRUE)
if(! "ca" %in% installed.packages()) install.packages("ca", depend = TRUE)
if(! "FactoMineR" %in% installed.packages()) install.packages("FactoMineR", depend = TRUE)
if(! "factoextra" %in% installed.packages()) install.packages("factoextra", depend = TRUE)
if(! "psych" %in% installed.packages()) install.packages("psych", depend = TRUE)
if(! "openxlsx" %in% installed.packages()) install.packages("openxlsx", depend = TRUE)
if(! "corrplot" %in% installed.packages()) install.packages("corrplot", depend = TRUE)
if(! "PerformanceAnalytics" %in% installed.packages()) install.packages("PerformanceAnalytics", depend = TRUE)
if(! "arules" %in% installed.packages()) install.packages("arules", depend = TRUE)
if(! "arulesViz" %in% installed.packages()) install.packages("arulesViz", depend = TRUE)
if(! "datasets" %in% installed.packages()) install.packages("datasets", depend = TRUE)
if(! "dummies" %in% installed.packages()) install.packages("dummies", depend = TRUE)
if(! "NbClust" %in% installed.packages()) install.packages("NbClust", depend = TRUE)
if(! "sqldf" %in% installed.packages()) install.packages("sqldf", depend = TRUE)
library(readxl)
library(kableExtra)
library(highcharter)
library(plotly)
library(dplyr)
library(rmarkdown)
library(knitr)
library(summarytools)
library(tables)
library(ggplot2)
library(RColorBrewer)
library(plyr)
library(likert)
library(sjPlot)
library(ca)
library(FactoMineR)
library(factoextra)
library(psych)
library(openxlsx)
library(corrplot)
library(PerformanceAnalytics)
library(arules)
library(arulesViz)
library(datasets)
library(dummies)
library(Rcmdr)
library(NbClust)
library(sqldf)
Commander()
options(max.print=999999999)
datos<-read_excel("../DATA/data.xlsx")
View(datos)
View(datos)
colnames(datos)
str(datos)
warnings()
backup_datos <- datos
boxplot(datos$age,
main = "Valores atípicos variable edad",
boxwex = 0.5,col="gray70")
summary(datos)
str(datos)
colnames(datos) <- toupper(colnames(datos))
colnames(datos)
for(i in 1:42) {
col_names_I <- (paste("Q",i,"I",sep=""))
datos[,col_names_I] <- NULL
col_names_I <- (paste("Q",i,"E",sep=""))
datos[,col_names_I] <- NULL
}
for(i in 1:10) {
col_names <- (paste("TIPI",i,sep=""))
datos[,col_names] <- NULL
}
for(i in 1:16) {
col_names <- (paste("VCL",i,sep=""))
datos[,col_names] <- NULL
}
datos$SOURCE <- NULL
datos$INTROELAPSE <- NULL
datos$TESTELAPSE <- NULL
datos$SURVEYELAPSE <- NULL
datos$EDUCATION <- NULL
datos$URBAN <- NULL
datos$ENGNAT <- NULL
datos$SCREENSIZE <- NULL
datos$UNIQUENETWORKLOCATION <- NULL
datos$HAND <- NULL
datos$RELIGION <- NULL
datos$ORIENTATION <- NULL
datos$RACE<- NULL
datos$VOTED <- NULL
datos$MARRIED <- NULL
datos$FAMILYSIZE <- NULL
datos$MAJOR<- NULL
colnames(datos)
str(datos)
datos = rename(datos, c(COUNTRY="PAIS"))
datos = rename(datos, c(GENDER="SEXO"))
datos = rename(datos, c(AGE="EDAD"))
for (i in 1:42){
datos[,i][ datos[,i] == 1 ]    <- 0
datos[,i][ datos[,i] == 2 ]    <- 1
datos[,i][ datos[,i] == 3 ]    <- 2
datos[,i][ datos[,i] == 4 ]    <- 3
}
str(datos)
datos <- transform( datos,
DEPRESION  = (Q3A + Q5A + Q10A + Q13A + Q16A + Q17A + Q21A +
Q24A + Q26A + Q31A + Q34A + Q37A + Q38A + Q42A) ,
ANSIEDAD     = (Q2A + Q4A + Q7A + Q9A + Q15A + Q19A + Q20A +
Q23A + Q25A + Q28A + Q30A + Q36A + Q40A + Q41A) ,
ESTRES      = (Q1A + Q6A + Q8A + Q11A + Q12A + Q14A + Q18A +
Q22A + Q27A + Q29A + Q32A + Q33A + Q35A + Q39A))
datos$GRADO_DEPRESION <- 0
datos$GRADO_ANSIEDAD  <- 0
datos$GRADO_ESTRES    <- 0
datos$GRADO_DEPRESION[ datos$DEPRESION >= 0  & datos$DEPRESION <= 9 ]    <- "1 Normal"
datos$GRADO_DEPRESION[ datos$DEPRESION >= 10 & datos$DEPRESION <= 13 ]   <- "2 Mild"
datos$GRADO_DEPRESION[ datos$DEPRESION >= 14 & datos$DEPRESION <= 20 ]   <- "3 Moderate"
datos$GRADO_DEPRESION[ datos$DEPRESION >= 21 & datos$DEPRESION <= 27 ]   <- "4 Severe"
datos$GRADO_DEPRESION[ datos$DEPRESION >= 28 ]                           <- "5 Extremely severe"
datos$GRADO_ANSIEDAD[ datos$ANSIEDAD >= 0  & datos$ANSIEDAD <= 7 ]       <- "1 Normal"
datos$GRADO_ANSIEDAD[ datos$ANSIEDAD >= 8  & datos$ANSIEDAD <= 9 ]       <- "2 Mild"
datos$GRADO_ANSIEDAD[ datos$ANSIEDAD >= 10 & datos$ANSIEDAD <= 14 ]      <- "3 Moderate"
datos$GRADO_ANSIEDAD[ datos$ANSIEDAD >= 15 & datos$ANSIEDAD <= 19 ]      <- "4 Severe"
datos$GRADO_ANSIEDAD[ datos$ANSIEDAD >= 20 ]                             <- "5 Extremely severe"
datos$GRADO_ESTRES[ datos$ESTRES >=  0 & datos$ESTRES <= 14 ]            <- "1 Normal"
datos$GRADO_ESTRES[ datos$ESTRES >= 15 & datos$ESTRES <= 18 ]            <- "2 Mild"
datos$GRADO_ESTRES[ datos$ESTRES >= 19 & datos$ESTRES <= 25 ]            <- "3 Moderate"
datos$GRADO_ESTRES[ datos$ESTRES >= 26 & datos$ESTRES <= 33 ]            <- "4 Severe"
datos$GRADO_ESTRES[ datos$ESTRES >= 34 ]                                 <- "5 Extremely severe"
print( sort(table(datos$EDAD),decreasing=T) )
datos <- datos[ datos$EDAD <= 72, ]
print( sort(table(datos$PAIS),decreasing=T) )
datos <- datos[     datos$PAIS =='MY' | datos$PAIS =='US' | datos$PAIS =='GB'| datos$PAIS =='CA'| datos$PAIS =='ID'| datos$PAIS =='PH'|
datos$PAIS =='AU' | datos$PAIS =='IN' | datos$PAIS =='DE'| datos$PAIS =='SG'| datos$PAIS =='NZ'| datos$PAIS =='FR'|
datos$PAIS =='BR' | datos$PAIS =='PL' | datos$PAIS =='BN'| datos$PAIS =='MX'| datos$PAIS =='RO'| datos$PAIS =='IT'|
datos$PAIS =='NL' | datos$PAIS =='ES' | datos$PAIS =='JP'| datos$PAIS =='FI'| datos$PAIS =='TR'| datos$PAIS =='PK'|
datos$PAIS =='ZA' | datos$PAIS =='SE' | datos$PAIS =='EG'| datos$PAIS =='GR'| datos$PAIS =='IE'| datos$PAIS =='RS'|
datos$PAIS =='PT' | datos$PAIS =='RU' | datos$PAIS =='CZ'| datos$PAIS =='HK'| datos$PAIS =='SA'| datos$PAIS =='AR'|
datos$PAIS =='HR' | datos$PAIS =='AE' | datos$PAIS =='DK'| datos$PAIS =='JM'| datos$PAIS =='NO'| datos$PAIS =='HU'|
datos$PAIS =='CH' | datos$PAIS =='AT' | datos$PAIS =='VN'| datos$PAIS =='BG'| datos$PAIS =='BE'| datos$PAIS =='KR', ]
str(datos)
datos$DEPRESION <- as.numeric(datos$DEPRESION)
datos$ANSIEDAD <- as.numeric(datos$ANSIEDAD)
datos$ESTRES<- as.numeric(datos$ESTRES)
datos$EDAD <- as.numeric(datos$EDAD)
for (i in 1:42){
datos[,i]<- factor( datos[,i],levels = c(0,1,2,3),labels = c(
"No me aplicó",
"Me aplicó un poco",
"Me aplicó bastante",
"Me aplicó mucho"))
}
datos$SEXO <- factor( datos$SEXO, levels = c(1,2), labels = c(
"Hombre",
"Mujer"))
datos$PAIS <- as.factor(datos$PAIS)
datos$GRADO_DEPRESION <- as.factor(datos$GRADO_DEPRESION)
datos$GRADO_ANSIEDAD <- as.factor(datos$GRADO_ANSIEDAD)
datos$GRADO_ESTRES <- as.factor(datos$GRADO_ESTRES)
datos$RANGO_EDAD[ datos$EDAD >= 13 & datos$EDAD <= 18 ]    <- "13-18"
datos$RANGO_EDAD[ datos$EDAD >= 19 & datos$EDAD <= 24 ]    <- "19-24"
datos$RANGO_EDAD[ datos$EDAD >= 25 & datos$EDAD <= 30 ]    <- "25-30"
datos$RANGO_EDAD[ datos$EDAD >= 31 & datos$EDAD <= 36 ]    <- "31-36"
datos$RANGO_EDAD[ datos$EDAD >= 37 & datos$EDAD <= 42 ]    <- "37-42"
datos$RANGO_EDAD[ datos$EDAD >= 43 & datos$EDAD <= 48 ]    <- "43-48"
datos$RANGO_EDAD[ datos$EDAD >= 49 & datos$EDAD <= 54 ]    <- "49-54"
datos$RANGO_EDAD[ datos$EDAD >= 55 & datos$EDAD <= 60 ]    <- "55-60"
datos$RANGO_EDAD[ datos$EDAD >= 61 & datos$EDAD <= 66 ]    <- "61-66"
datos$RANGO_EDAD[ datos$EDAD >= 67 & datos$EDAD <= 72 ]    <- "67-72"
datos$RANGO_EDAD <- as.factor(datos$RANGO_EDAD)
table(datos$RANGO_EDAD)
variables <- data.frame(names(datos), "", sapply(datos, class), 0, 0)
names(variables)<-c("VARIABLE", "DESCRIPTION", "TIPO")
names(variables)
variables$DESCRIPTION<-as.character(variables$DESCRIPTION)
variables$DESCRIPTION[1]=  "Me encontré molesto por cosas bastante triviales"
variables$DESCRIPTION[2]=  "Fuí consciente de sequedad en mi boca"
variables$DESCRIPTION[3]=  "No podía sentir ningún sentimiento positivo"
variables$DESCRIPTION[4]=  "Experimenté dificultad para respirar"
variables$DESCRIPTION[5]=  "Se me hizo difícil tomar la iniciativa para hacer cosas"
variables$DESCRIPTION[6]=  "Reaccioné exEDADradamente en ciertas situaciones"
variables$DESCRIPTION[7]=  "Sentí temblores"
variables$DESCRIPTION[8]=  "Encontré difíciltad para relajarme"
variables$DESCRIPTION[9]=  "Me encontré en situaciones que me pusieron tan ansioso que me sentí más aliviado cuando terminaron"
variables$DESCRIPTION[10]= "Sentí que no tenia nada por lo que vivir"
variables$DESCRIPTION[11]= "Me encontré agitado con bastante facilidad"
variables$DESCRIPTION[12]= "Sentí que estaba muy nervioso"
variables$DESCRIPTION[13]= "Me sentí triste y deprimido"
variables$DESCRIPTION[14]= "Me encontré impaciente cuando me retrasé por algún motivo"
variables$DESCRIPTION[15]= "Tuve sentimientos de desmayo"
variables$DESCRIPTION[16]= "Sentí que había perdido interés en casi todo"
variables$DESCRIPTION[17]= "Sentí que no valía mucho como persona"
variables$DESCRIPTION[18]= "Sentí que estaba muy irritable"
variables$DESCRIPTION[19]= "Sentí latidos en mi corazón a pesar de no haber hecho ningún esfuerzo físico"
variables$DESCRIPTION[20]= "Tuve miedo sin razón"
variables$DESCRIPTION[21]= "Sentí que la vida no tenia ningún sentido"
variables$DESCRIPTION[22]= "Me resultó difícil relajarme"
variables$DESCRIPTION[23]= "Tuve dificultad para tragar"
variables$DESCRIPTION[24]= "No pude disfrutar de nada de lo que hice"
variables$DESCRIPTION[25]= "Fuí consciente de la acción de mi corazón en ausencia de esfuerzo físico" #todo
variables$DESCRIPTION[26]= "Me sentí triste"
variables$DESCRIPTION[27]= "Estuve muy irritable"
variables$DESCRIPTION[28]= "Sentí que estaba cerca del pánico"
variables$DESCRIPTION[29]= "Me resultó difícil calmarme después de que algo me molestara"
variables$DESCRIPTION[30]= "Temía que me arrojaran cosas triviales pero desconocidas"
variables$DESCRIPTION[31]= "No pude entusiasmarme con nada"
variables$DESCRIPTION[32]= "Me resultó difícil tolerar interrupciones en lo que estaba haciendo"
variables$DESCRIPTION[33]= "Estuve en estado de tensión nerviosa"
variables$DESCRIPTION[34]= "Sentí que no valía nada"
variables$DESCRIPTION[35]= "Fuí intolerante con todo lo que me impedía seguir adelante con lo que estaba haciendo"
variables$DESCRIPTION[36]= "Me senti aterrado"
variables$DESCRIPTION[37]= "No podía ver nada en un futuro sobre lo que tener esperanzas"
variables$DESCRIPTION[38]= "Sentí que la vida no tenía sentido"
variables$DESCRIPTION[39]= "Me encontré agitado"
variables$DESCRIPTION[40]= "Estuve preocupado por situaciones en las que podría hacer el ridículo y entrar en pánico"
variables$DESCRIPTION[41]= "Experimenté temblores"
variables$DESCRIPTION[42]= "Me resultó difícil tomar la iniciativa para hacer cosas"
variables$DESCRIPTION[43]= "ISO País"
variables$DESCRIPTION[44]= "SEXO"
variables$DESCRIPTION[45]= "Edad"
variables$DESCRIPTION[46]= "Puntuación depresión"
variables$DESCRIPTION[47]= "Puntuación ansiedad"
variables$DESCRIPTION[48]= "Puntuación estrés"
variables$DESCRIPTION[49]= "Grado depresión"
variables$DESCRIPTION[50]= "Grado ansiedad"
variables$DESCRIPTION[51]= "Grado estrés"
variables$DESCRIPTION[52]= "Rango Edad"
str(datos)
variables_numericas <-  as.character(variables[variables$TIPO == c("numeric"),1])
variables_numericas
variables_discretas <- as.character(variables[variables$TIPO != c("character"),1])
variables_discretas
variables_discretas_names<-as.character(variables[variables$TIPO!=c("character"),2])
variables_discretas_color<-as.character(variables[variables$TIPO!=c("character"),6])
variables_discretas
variables_discretas_names
variables_discretas_color
for(i in 1:length(variables$VARIABLE)){
var2<-paste(variables$VARIABLE[i])
variables$NUMERO_NULLS[i]<-sum(sapply(datos[var2], function(x) sum(is.null(x))))
variables$NUMERO_NULLS[i]
variables$NUMERO_NA[i]<-sum(sapply(datos[var2], function(x) sum(is.na(x))))
variables$NUMERO_NA[i]
}
nrow(variables[variables$NUMERO_NULLS>0,])
nrow(variables[variables$NUMERO_NA>0,])
sapply (datos, function(x) (sum(is.na(x))))
sapply (datos, function(x) (sum(is.null(x))))
datos <- na.omit(datos)
boxplot(datos[variables_numericas],
main = "Valores Atípicos variables numéricas",
boxwex = 0.5,col="gray70")
boxplot(datos[variables_numericas[1]],
main = "Valores atípicos variable edad",
boxwex = 0.5,col="gray70")
write.xlsx(datos, '../DATOS_EXPORTADOS/exportado.xlsx')
graficos_plot <- function(var2, var_name, color){
df_plot<-as.data.frame(table(datos[,var2]))
df_plot
names(df_plot)<-c(var2, "count")
if( nrow(df_plot)>6 ){ lab<-paste0(df_plot$count)  }
else{ lab<-paste0(df_plot$count) }
switch(color,
doscolores={ cols=c("gray8","gray65")
},
trescolores={ cols=c("gray83","gray48", "gray68")
},
cuatrocolores={ cols=c("gray86","gray48", "gray68", "gray88" )
},
cincocolores={ cols=c("gray86","gray48", "gray68", "gray88", "gray93" )
},
{ cols=palette() }
)
plot<- ggplot(data=df_plot, aes(x=reorder(df_plot[,1], -df_plot[,2]) , y=df_plot[,2], fill=df_plot[,1]))  +
#else { plot<-ggplot(data=df_plot, aes(x=df_plot[,1] , y=df_plot[,2], fill=df_plot[,1])) }   +
geom_bar(stat="identity")+
theme_bw() +
theme(axis.line = element_line(colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.ticks = element_line(colour = "white")
) +
scale_fill_manual(values=cols) +
geom_text(aes(label=lab),
vjust=-0.3,
size=4.5) +
ggtitle(paste("\n", "\n", var_name,"\n") )  +
xlab(var2) + ylab("number of people") + labs(fill=var2)+
labs(x = NULL, y = NULL, caption = NULL, #caption="\n\nSource: Elaboración propia a partir de los datos del cuestionario DASS-42 de Open-Source Psychometrics",
subtitle = "")+
theme(
legend.position = "none",
axis.text.x=element_text(vjust=-0.5,  size=12, face = "bold"), #size=rel(1)
axis.text.y = element_text(colour = "white"),
plot.title = element_text( size = 13, face = "bold", hjust = 0.5),
# texto pie de grafico
plot.caption = element_text( size = 11, hjust = 0.1)
)
show(plot)
}
graficos_plot_sin_ordenar <- function(var2, var_name, color){
df_plot<-as.data.frame(table(datos[,var2]))
df_plot
names(df_plot)<-c(var2, "count")
if( nrow(df_plot)>6 ){ lab<-paste0(df_plot$count)  }
else{ lab<-paste0(df_plot$count
)   }
switch(color,
doscolores={ cols=c("gray8","gray65")
},
trescolores={ cols=c("gray68","gray48", "gray86") #48, oscuro, 68 es intermedio, 86 el mas claro
},
cuatrocolores={ cols=c("gray86","gray48", "gray68", "gray88" )
},
cincocolores={ cols=c("gray48", "gray68", "gray86", "gray93", "gray88", "gray95" )
},
{ cols={ cols=palette() } }
)
plot<-ggplot(data=df_plot, aes(x=df_plot[,1] , y=df_plot[,2], fill=df_plot[,1])) +
geom_bar(stat="identity")+
theme_bw() +
theme(axis.line = element_line(colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_blank(),
panel.background = element_blank(),
axis.ticks = element_line(colour = "white")
) +
scale_fill_manual(values=cols) +
geom_text(aes(label=lab),
vjust=-0.3,
size=4.5) +
ggtitle(paste("\n", "\n", var_name,"\n") )  +
xlab(var2) + ylab("number of people") + labs(fill=var2)+
labs(x = NULL, y = NULL, caption = NULL, #caption="\n\nSource: Elaboración propia a partir de los datos del cuestionario DASS-42 de Open-Source Psychometrics",
subtitle = "")+
theme(
legend.position = "none",
axis.text.x=element_text(vjust=-0.5,  size=12, face = "bold"), #size=rel(1)
axis.text.y = element_text(colour = "white"),
plot.title = element_text( size = 13, face = "bold", hjust = 0.5),
# texto pie de grafico
plot.caption = element_text( size = 8, hjust = 0.1)
)
show(plot)
}
summary(datos$DEPRESION)
summary(datos$ANSIEDAD)
summary(datos$ESTRES)
frecuencia_PAIS <- freq(datos$PAIS, justify = "center", caption = "My table", headings = FALSE, report.nas = FALSE, ord="Freq")
kable(frecuencia_PAIS, format = "html", round(digits = 2))
frecuencia_PAIS
frecuencia_SEXO <- freq(datos$SEXO, justify = "center", caption = "My table", headings = FALSE, report.nas = FALSE, ord="Freq")
kable(frecuencia_SEXO, format = "html", round(digits = 2))
frecuencia_SEXO
#Distribución de frecuencia absoluta según el SEXO. Elaboración propia.
graficos_plot(var2="SEXO",var_name="",color="trescolores")
frecuencia_rango_EDAD <- freq(datos$EDAD, justify = "center", caption = "My table", headings = FALSE, report.nas = FALSE)
frecuencia_rango_EDAD <- freq(datos$EDAD, justify = "center", caption = "My table", headings = FALSE, report.nas = FALSE, ord="Freq")
table(datos$RANGO_EDAD)
kable(frecuencia_rango_EDAD, format = "html", round(digits = 2))
frecuencia_rango_EDAD
frecuencia_rango_EDAD <- freq(datos$EDAD, justify = "center", caption = "My table", headings = FALSE, report.nas = FALSE, ord="Freq")
table(datos$RANGO_EDAD)
kable(frecuencia_rango_EDAD, format = "html", round(digits = 2))
frecuencia_rango_EDAD
summary(datos$DEPRESION)
summary(datos$ANSIEDAD)
summary(datos$ESTRES)
frecuencia_PAIS <- freq(datos$PAIS, justify = "center", caption = "My table", headings = FALSE, report.nas = FALSE, ord="Freq")
kable(frecuencia_PAIS, format = "html", round(digits = 2))
frecuencia_PAIS
frecuencia_SEXO <- freq(datos$SEXO, justify = "center", caption = "My table", headings = FALSE, report.nas = FALSE, ord="Freq")
kable(frecuencia_SEXO, format = "html", round(digits = 2))
frecuencia_SEXO
#Distribución de frecuencia absoluta según el SEXO. Elaboración propia.
graficos_plot(var2="SEXO",var_name="",color="trescolores")
frecuencia_rango_EDAD <- freq(datos$EDAD, justify = "center", caption = "My table", headings = FALSE, report.nas = FALSE, ord="Freq")
table(datos$RANGO_EDAD)
kable(frecuencia_rango_EDAD, format = "html", round(digits = 2))
frecuencia_rango_EDAD
frecuencia_grado_depresion <- freq(datos$GRADO_DEPRESION, justify = "center", caption = "My table", headings = FALSE, report.nas = FALSE, ord="Freq")
kable(frecuencia_grado_depresion, format = "html", round(digits = 2))
frecuencia_grado_depresion
#Distribución de frecuencia absoluta de la escala depresión. Elaboración propia.
graficos_plot_sin_ordenar(var2="GRADO_DEPRESION",var_name="",color="cols")
frecuencia_grado_ANSIEDAD <- freq(datos$GRADO_ANSIEDAD, justify = "center", caption = "My table", headings = FALSE, report.nas = FALSE, ord="Freq")
kable(frecuencia_grado_ANSIEDAD, format = "html", round(digits = 2))
frecuencia_grado_ANSIEDAD
#Distribución de frecuencia absoluta de la escala ANSIEDAD. Elaboración propia.
graficos_plot_sin_ordenar(var2="GRADO_ANSIEDAD",var_name="",color="cols")
frecuencia_grado_estres <- freq(datos$GRADO_ESTRES, justify = "center", caption = "My table", headings = FALSE, report.nas = FALSE, ord="Freq")
kable(frecuencia_grado_estres, format = "html", round(digits = 2))
frecuencia_grado_estres
#Distribución de frecuencia absoluta según el grado de estrés. Elaboración propia.
graficos_plot_sin_ordenar(var2="GRADO_ESTRES",var_name="",color="cols")
tabla_des_PAIS <- tabular ( PAIS ~ # para cada uno de los niveles de este factor
( DEPRESION + ANSIEDAD + ESTRES ) *  # de estas variables
( mean + median + sd ) +  # mostrar sus descriptivos
#( mean ) +  # mostrar sus descriptivos
( n = 1 ), # el núm. total de observaciones
data = datos ) # base de datos que usamos
tabla_des_PAIS
tabla_des_SEXO <- tabular ( SEXO ~ # para cada uno de los niveles de este factor
( DEPRESION + ANSIEDAD + ESTRES ) *  # de estas variables
( mean ) +  # mostrar sus descriptivos
( n = 1 ), # el núm. total de observaciones
data = datos ) # base de datos que usamos
tabla_des_PAIS <- tabular ( PAIS ~ # para cada uno de los niveles de este factor
( DEPRESION + ANSIEDAD + ESTRES ) *  # de estas variables
( mean + median + sd ) +  # mostrar sus descriptivos
#( mean ) +  # mostrar sus descriptivos
( n = 1 ), # el núm. total de observaciones
data = datos ) # base de datos que usamos
tabla_des_PAIS
